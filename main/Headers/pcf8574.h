/** @file pcf8574.h
 * 
 * @brief Modulo de comunicação com IO expander PCF8574, configura a interface de comunicação com o 
 * chip usando interface I2C. 
 *
 * Autor Pietro Di Bernardo Neto
 */ 

#ifndef PCF8574_H
#define PCF8574_H

////////////////////////////////////////////////////////////////////////////////////////////////////
// INCLUDES
////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////
// DEFINES
////////////////////////////////////////////////////////////////////////////////////////////////////

// Configuração do Barramento I2C de comunicação com o chip.
#define I2C_MASTER_SCL_IO                   9
#define I2C_MASTER_SDA_IO                   8
#define I2C_MASTER_NUM                      (i2c_port_t)0
#define I2C_MASTER_FREQ_HZ                  40000
#define I2C_MASTER_TX_BUF_DISABLE           0
#define I2C_MASTER_RX_BUF_DISABLE           0
#define I2C_MASTER_TIMEOUT()                (1000/portTICK_PERIOD_MS)

// Endereços dos chips
#define IO_EXPANDER_01                      0x20
#define IO_EXPANDER_02                      0x21

// Flag de erro do chip
#define PCF_ERROR_FLAG(pcf_address)         (unsigne int)( pcf_address & 0x03 <<  24)

////////////////////////////////////////////////////////////////////////////////////////////////////
// VARIAVEIS GLOBAIS DO MODULO
////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////
// FUNÇÕES DE INTERFACE COM O MÓDULO
////////////////////////////////////////////////////////////////////////////////////////////////////
void InitDigitalRead(void);
void ReadIOs(void);

#endif /* PCF8574_H */

/*** end of file ***/