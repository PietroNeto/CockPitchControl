/** @file usbhid.h
 * 
 * @brief TODO DESC
 *
 * Autor Pietro Di Bernardo Neto
 */ 

#ifndef USBHID_H
#define USBHID_H

////////////////////////////////////////////////////////////////////////////////////////////////////
// INCLUDES
////////////////////////////////////////////////////////////////////////////////////////////////////
#include "esp_log.h"
#include "tinyusb.h"
#include "class/hid/hid_device.h"

////////////////////////////////////////////////////////////////////////////////////////////////////
// TYPDEFS STRUCTS UNIONS
////////////////////////////////////////////////////////////////////////////////////////////////////

// Estrutura de dados que armazena os dados do HID Report.
typedef struct TU_ATTR_PACKED
{
    int8_t  analog1;         ///< Delta x  movement of left analog-stick
    int8_t  analog2;         ///< Delta y  movement of left analog-stick
    int8_t  analog3;         ///< Delta x  movement of left analog-stick
    int8_t  analog4;         ///< Delta y  movement of left analog-stick
    int8_t  analog5;         ///< Delta x  movement of left analog-stick
    int8_t  analog6;         ///< Delta y  movement of left analog-stick
    int8_t  analog7;         ///< Delta x  movement of left analog-stick
    int8_t  analog8;         ///< Delta y  movement of left analog-stick
    uint32_t Digital;        ///< Buttons mask for currently pressed buttons
}USBHidReport;

////////////////////////////////////////////////////////////////////////////////////////////////////
// DEFINES
////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////
// VARIAVEIS GLOBAIS DO MODULO
////////////////////////////////////////////////////////////////////////////////////////////////////

// Variável que armazena os dados do HID.
extern USBHidReport gudtUsbHidReport;

////////////////////////////////////////////////////////////////////////////////////////////////////
// FUNÇÕES DE INTERFACE COM O MÓDULO
////////////////////////////////////////////////////////////////////////////////////////////////////
void initHID(void);
void writeToHID(void);

#endif /* USBHID_H */

/*** end of file ***/